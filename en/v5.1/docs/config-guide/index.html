<!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->





<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cloud Native Stream Processor">
      
      
        <link rel="canonical" href="http://siddhi.io/en/v5.1/docs/config-guide/">
      
      
        <meta name="author" content="WSO2">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/logos/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Configuration Guide - Siddhi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/lib/highlightjs/default.min.css">
    
      <link rel="stylesheet" href="../../assets/css/theme.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-103065-28", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#siddhi-51-config-guide" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<header class="md-header" data-md-component="header" id="page-header" data-url=""
        data-lang="en">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://siddhi.io/en/v5.1/" title="Siddhi"
           class="md-header-nav__button md-logo">
          
            <img src="../../images/logos/siddhi-logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Siddhi
            </span>
            <span class="md-header-nav__topic">
              Configuration Guide
            </span>
          
        </div>
        <div class="md-flex__ellipsis md-header__version-select">
            <div class="mb-tabs__dropdown version-select">
                <a class="md-tabs__link md-tabs__dropdown-link" href="#!" data-target="version-select-dropdown">
                  v5.1</a>
                <ul id="version-select-dropdown" class="mb-tabs__dropdown-content" tabindex="0">
                    <!-- Versions will added here dynamically -->
                    <li class="md-tabs__item mb-tabs__dropdown">
                        <a href="#" id="show-all-versions-link">Show all</a>
                    </li>
                </ul>
            </div>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
        </div>
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
        <li class="md-tabs__item home_icon">
            <a href="/" title="Siddhi Home" class="md-tabs__link md-tabs__link--active">
                <i class="fa fa-home"></i>
            </a>
        </li>
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../download/" title="Download" class="md-tabs__link">
          Download
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../quick-start/" title="Quick Start" class="md-tabs__link">
          Quick Start
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="Documentation" class="md-tabs__link md-tabs__link--active">
          Documentation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="/community/" title="Community" class="md-tabs__link">
          Community
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../development/" title="Development" class="md-tabs__link">
          Development
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="/license/" title="License" class="md-tabs__link">
          License
        </a>
      
    </li>
  

      
    </ul>
    <div class="quick_links">
        
        <a href="https://github.com/siddhi-io/www/edit/master/en/docs/docs/config-guide.md" target="blank" id="editIcon" title="Edit this page"
           title="Edit this page" class="md-icon md-content__icon nav_link edit_link"></a>
        
    </div>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
    <label class="md-nav__title md-nav__title--site" for="__drawer">
      <a href="http://siddhi.io/en/v5.1/" title="Siddhi"
         class="md-nav__button md-logo">
        
          <img src="../../images/logos/siddhi-logo.svg" width="48" height="48">
        
      </a>
      Siddhi
    </label>
    
      <div class="md-nav__source">
        


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
      </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Download
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Download
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Quick Start
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Quick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tooling/" title="Tooling" class="md-nav__link">
      Tooling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../query-guide/" title="Query Guide" class="md-nav__link">
      Query Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Siddhi APIs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Siddhi APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/latest/" title="latest" class="md-nav__link">
      latest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/5.1.0/" title="5.1.0" class="md-nav__link">
      5.1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-java-library/" title="Siddhi Java library" class="md-nav__link">
      Siddhi Java library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-local-microservice/" title="Siddhi Local Microservice" class="md-nav__link">
      Siddhi Local Microservice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-docker-microservice/" title="Siddhi Docker Microservice" class="md-nav__link">
      Siddhi Docker Microservice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-kubernetes-microservice/" title="Siddhi Kubernetes Microservice" class="md-nav__link">
      Siddhi Kubernetes Microservice
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Configuration Guide
      </label>
    
    <a href="./" title="Configuration Guide" class="md-nav__link md-nav__link--active">
      Configuration Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-databases" title="Configuring Databases" class="md-nav__link">
    Configuring Databases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#persistence-on-database" title="Persistence on Database" class="md-nav__link">
    Persistence on Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistence-on-file-system" title="Persistence on File System" class="md-nav__link">
    Persistence on File System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-siddhi-elements" title="Configuring Siddhi Elements" class="md-nav__link">
    Configuring Siddhi Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-sources-sinks-and-stores-references" title="Configuring Sources, Sinks and Stores References" class="md-nav__link">
    Configuring Sources, Sinks and Stores References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-extensions-system-parameters" title="Configuring Extensions System Parameters" class="md-nav__link">
    Configuring Extensions System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-properties" title="Configuring Siddhi Properties" class="md-nav__link">
    Configuring Siddhi Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring Authentication" class="md-nav__link">
    Configuring Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-dependencies" title="Adding Extensions and Third Party Dependencies" class="md-nav__link">
    Adding Extensions and Third Party Dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-program" title="Adding to Siddhi Java Program" class="md-nav__link">
    Adding to Siddhi Java Program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-microservice" title="Adding to Siddhi Local Microservice" class="md-nav__link">
    Adding to Siddhi Local Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-microservice" title="Adding to Siddhi Docker Microservice" class="md-nav__link">
    Adding to Siddhi Docker Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-microservice" title="Adding to Siddhi Kubernetes Microservice" class="md-nav__link">
    Adding to Siddhi Kubernetes Microservice
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-statistics" title="Configuring Statistics" class="md-nav__link">
    Configuring Statistics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reporting-via-jmx-mbeans" title="Reporting via JMX Mbeans" class="md-nav__link">
    Reporting via JMX Mbeans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-console" title="Reporting via Console" class="md-nav__link">
    Reporting via Console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-database" title="Reporting via Database" class="md-nav__link">
    Reporting via Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-jars-to-osgi-bundles" title="Converting Jars to OSGi Bundles" class="md-nav__link">
    Converting Jars to OSGi Bundles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-sensitive-deployment-configurations" title="Encrypt sensitive deployment configurations" class="md-nav__link">
    Encrypt sensitive deployment configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-server-properties" title="Configuring server properties" class="md-nav__link">
    Configuring server properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-port-offset" title="Configure port offset" class="md-nav__link">
    Configure port offset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-databridge-transport" title="Configuring Databridge Transport" class="md-nav__link">
    Configuring Databridge Transport
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-listener" title="Configuring databridge listener" class="md-nav__link">
    Configuring databridge listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-publisher" title="Configuring databridge publisher" class="md-nav__link">
    Configuring databridge publisher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-admin-rest-apis" title="Configuring Admin REST APIs" class="md-nav__link">
    Configuring Admin REST APIs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="/community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/source/" title="Source" class="md-nav__link">
      Source
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/build/" title="Build" class="md-nav__link">
      Build
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      License
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        License
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
    </ul>
  </nav>  
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-databases" title="Configuring Databases" class="md-nav__link">
    Configuring Databases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#persistence-on-database" title="Persistence on Database" class="md-nav__link">
    Persistence on Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistence-on-file-system" title="Persistence on File System" class="md-nav__link">
    Persistence on File System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-siddhi-elements" title="Configuring Siddhi Elements" class="md-nav__link">
    Configuring Siddhi Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-sources-sinks-and-stores-references" title="Configuring Sources, Sinks and Stores References" class="md-nav__link">
    Configuring Sources, Sinks and Stores References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-extensions-system-parameters" title="Configuring Extensions System Parameters" class="md-nav__link">
    Configuring Extensions System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-properties" title="Configuring Siddhi Properties" class="md-nav__link">
    Configuring Siddhi Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring Authentication" class="md-nav__link">
    Configuring Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-dependencies" title="Adding Extensions and Third Party Dependencies" class="md-nav__link">
    Adding Extensions and Third Party Dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-program" title="Adding to Siddhi Java Program" class="md-nav__link">
    Adding to Siddhi Java Program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-microservice" title="Adding to Siddhi Local Microservice" class="md-nav__link">
    Adding to Siddhi Local Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-microservice" title="Adding to Siddhi Docker Microservice" class="md-nav__link">
    Adding to Siddhi Docker Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-microservice" title="Adding to Siddhi Kubernetes Microservice" class="md-nav__link">
    Adding to Siddhi Kubernetes Microservice
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-statistics" title="Configuring Statistics" class="md-nav__link">
    Configuring Statistics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reporting-via-jmx-mbeans" title="Reporting via JMX Mbeans" class="md-nav__link">
    Reporting via JMX Mbeans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-console" title="Reporting via Console" class="md-nav__link">
    Reporting via Console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-database" title="Reporting via Database" class="md-nav__link">
    Reporting via Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-jars-to-osgi-bundles" title="Converting Jars to OSGi Bundles" class="md-nav__link">
    Converting Jars to OSGi Bundles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-sensitive-deployment-configurations" title="Encrypt sensitive deployment configurations" class="md-nav__link">
    Encrypt sensitive deployment configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-server-properties" title="Configuring server properties" class="md-nav__link">
    Configuring server properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-port-offset" title="Configure port offset" class="md-nav__link">
    Configure port offset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-databridge-transport" title="Configuring Databridge Transport" class="md-nav__link">
    Configuring Databridge Transport
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-listener" title="Configuring databridge listener" class="md-nav__link">
    Configuring databridge listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-publisher" title="Configuring databridge publisher" class="md-nav__link">
    Configuring databridge publisher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-admin-rest-apis" title="Configuring Admin REST APIs" class="md-nav__link">
    Configuring Admin REST APIs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
  
                
                  <a href="https://github.com/siddhi-io/www/edit/master/en/docs/docs/config-guide.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="siddhi-51-config-guide">Siddhi 5.1 Config Guide<a class="headerlink" href="#siddhi-51-config-guide" title="Permanent link">&para;</a></h1>
<h2 id="configuring-databases">Configuring Databases<a class="headerlink" href="#configuring-databases" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>It is recommended to configure RDBMS databases as datasources under <code>datasources</code> section of Siddhi configuration yaml, and pass it during startup, this will allow database to reuse connections across multiple Siddhi Apps.</p>
<p>By default Siddhi stores product-specific data in predefined embedded H2 database located in <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/database</code> directory. Here, the default H2 database is only suitable for development, testing, and some production environments which do not store data.</p>
<p>However, for most production environments we recommend using industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MSSQL. In this case users are expected to add the relevant database drivers to Siddhi's class-path.</p>
<div class="admonition note">
<p class="admonition-title">Including database drivers.</p>
<p>The database driver corresponding to the database should be an OSGi bundle and it need to be added to <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib/</code> directory. If the driver is a jar then this should be <a href="#converting-jars-to-osgi-bundles">converted to an OSGi bundle before adding</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Converting Non OSGi drivers.</p>
<p>If the database driver is not an OSGi bundle, then it should be converted to OSGi. Please refer <a href="#converting-jars-to-osgi-bundles">Converting Jars to OSGi Bundles</a> documentation for details.</p>
</div>
<p>The necessary table schemas are self generated by the features themselves, other than the tables needed for <a href="#reporting-via-database">statistics reporting via databases</a>.</p>
<p><strong>Below are the sample datasource configuration for each supported database types:</strong></p>
<ul>
<li>
<p>MySQL<br />
  <pre class="codehilite"><code class="language-yaml linenums">dataSources:
  - name: SIDDHI_TEST_DB
    description: The datasource used for test database
    jndiConfig:
      name: jdbc/SIDDHI_TEST_DB
    definition:
      type: RDBMS
      configuration:
        jdbcUrl: jdbc:mysql://hostname:port/testdb
        username: root
        password: root
        driverClassName: com.mysql.jdbc.Driver
        maxPoolSize: 10
        idleTimeout: 60000
        connectionTestQuery: SELECT 1
        validationTimeout: 30000
        isAutoCommit: false</code></pre></p>
</li>
<li>
<p>Oracle<br />
  There are two ways to configure Oracle. If you have a System Identifier (SID), use this (older) format:<br />
    <pre>
  jdbc:oracle:thin:@[HOST][:PORT]:SID
  </pre>
  <pre class="codehilite"><code class="language-yaml linenums">dataSources:
- name: SIDDHI_TEST_DB
  description: The datasource used for test database
  jndiConfig:
    name: jdbc/SIDDHI_TEST_DB
  definition:
    type: RDBMS
    configuration:
      jdbcUrl: jdbc:oracle:thin:@hostname:port:SID
      username: testdb
      password: root
      driverClassName: oracle.jdbc.driver.OracleDriver
      maxPoolSize: 10
      idleTimeout: 60000
      connectionTestQuery: SELECT 1
      validationTimeout: 30000
      isAutoCommit: false</code></pre>
  If you have an Oracle service name, use this (newer) format:
  <pre>
  jdbc:oracle:thin:@//[HOST][:PORT]/SERVICE
  </pre>
  <pre class="codehilite"><code class="language-yaml linenums">dataSources:
- name: SIDDHI_TEST_DB
  description: The datasource used for test database
  jndiConfig:
    name: jdbc/SIDDHI_TEST_DB
  definition:
    type: RDBMS
    configuration:
      jdbcUrl: jdbc:oracle:thin:@hostname:port/SERVICE
      username: testdb
      password: root
      driverClassName: oracle.jdbc.driver.OracleDriver
      maxPoolSize: 50
      idleTimeout: 60000
      connectionTestQuery: SELECT 1
      validationTimeout: 30000
      isAutoCommit: false</code></pre></p>
</li>
<li>
<p>PostgreSQL
  <pre class="codehilite"><code class="language-yaml linenums">dataSources:
- name: SIDDHI_TEST_DB
  description: The datasource used for test database
  jndiConfig:
    name: jdbc/SIDDHI_TEST_DB
  definition:
    type: RDBMS
  configuration:
    jdbcUrl: jdbc:postgresql://hostname:port/testdb
    username: root
    password: root
    driverClassName: org.postgresql.Driver
    maxPoolSize: 10
    idleTimeout: 60000
    connectionTestQuery: SELECT 1
    validationTimeout: 30000
    isAutoCommit: false</code></pre></p>
</li>
<li>
<p>MSSQL
  <pre class="codehilite"><code class="language-yaml linenums"> dataSources:
 - name: SIDDHI_TEST_DB
   description: The datasource used for test database
   jndiConfig:
     name: jdbc/SIDDHI_TEST_DB
   definition:
     type: RDBMS
     configuration:
       jdbcUrl: jdbc:sqlserver://hostname:port;databaseName=testdb
       username: root
       password: root
       driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver
       maxPoolSize: 10
       idleTimeout: 60000
       connectionTestQuery: SELECT 1
       validationTimeout: 30000
       isAutoCommit: false</code></pre></p>
</li>
</ul>
<h2 id="configuring-periodic-state-persistence">Configuring Periodic State Persistence<a class="headerlink" href="#configuring-periodic-state-persistence" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>This explains how to periodically persisting the state of Siddhi either into a database system or file system, in order to prevent data losses that can result from a system failure.</p>
<h3 id="persistence-on-database">Persistence on Database<a class="headerlink" href="#persistence-on-database" title="Permanent link">&para;</a></h3>
<p>To perform periodic state persistence on a database, the database should be configured as a datasource and the relevant jdbc drivers should be added to Siddhi's class-path. Refer <a href="#Configuring-Databases">Database Configuration</a> section for more information.</p>
<p>To configure database based periodic data persistence, add <code>statePersistence</code> section with the following properties on the Siddhi configuration yaml, and pass that during startup.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. Here when a new persistence takes place, the older revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.DBPersistenceStore</td>
</tr>
<tr>
<td>config &gt; datasource</td>
<td>The datasource to be used in persisting the state. The datasource should be defined in the Siddhi configuration yaml. For detailed instructions of how to configure a datasource, see <a href="#Configuring-Databases">Database Configuration</a>.</td>
<td>SIDDHI_PERSISTENCE_DB (A datasource that is defined in <code>datasources</code> in Siddhi configuration yaml)</td>
</tr>
<tr>
<td>config &gt; table</td>
<td>The table that should be created and used for persisting states.</td>
<td>PERSISTENCE_TABLE</td>
</tr>
</tbody>
</table>
<p>The following is a sample configuration for database based state persistence.
<pre class="codehilite"><code class="language-yaml linenums">statePersistence:
  enabled: true
  intervalInMin: 1
  revisionsToKeep: 3
  persistenceStore: io.siddhi.distribution.core.persistence.DBPersistenceStore
  config:
    datasource: &lt;DATASOURCE NAME&gt;   # A datasource with this name should be defined in datasources namespace
    table: &lt;TABLE NAME&gt;
</code></pre></p>
<h3 id="persistence-on-file-system">Persistence on File System<a class="headerlink" href="#persistence-on-file-system" title="Permanent link">&para;</a></h3>
<p>To configure file system based periodic data persistence, add <code>statePersistence</code> section with the following properties on the Siddhi configuration yaml, and pass that during startup.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. Here when a new persistence takes place, the older revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.FileSystemPersistenceStore</td>
</tr>
<tr>
<td>config &gt; location</td>
<td>A fully qualified folder location to where the revision files should be persisted.</td>
<td>siddhi-app-persistence</td>
</tr>
</tbody>
</table>
<p>The following is a sample configuration for file system based state persistence.
<pre class="codehilite"><code class="language-yaml linenums">statePersistence:
  enabled: true
  intervalInMin: 1
  revisionsToKeep: 2
  persistenceStore: io.siddhi.distribution.core.persistence.FileSystemPersistenceStore
  config:
    location: siddhi-app-persistence</code></pre></p>
<h2 id="configuring-siddhi-elements">Configuring Siddhi Elements<a class="headerlink" href="#configuring-siddhi-elements" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>You can configure some of there environment specific configurations in the Siddhi Configuration yaml rather than configuring in-line, such that your Siddhi Application can become potable between environments.</p>
<h3 id="configuring-sources-sinks-and-stores-references">Configuring Sources, Sinks and Stores References<a class="headerlink" href="#configuring-sources-sinks-and-stores-references" title="Permanent link">&para;</a></h3>
<p>Multiple sources, sinks, and stores could be defined in Siddhi Configuration yaml as <code>ref</code>, and referred by several Siddhi Applications as described below.</p>
<p>The following is the syntax for the configuration.
<pre class="codehilite"><code class="language-yaml linenums">refs:
  -
    ref:
      name: '&lt;name&gt;'
      type: '&lt;type&gt;'
      properties:
        &lt;property1&gt;: &lt;value1&gt;
        &lt;property2&gt;: &lt;value2&gt;</code></pre></p>
<p>For each separate refs you want to configure, add a sub-section named <code>ref</code> under the <code>refs</code> subsection.</p>
<p>The ref configured in Siddhi Configuration yaml can be referred from a Siddhi Application <a href="../../query-guide/#source">Source</a> as follows.
<pre class="codehilite"><code class="language-mysql linenums">@Source(ref='&lt;name&gt;',
        @map(type='json', @attributes( name='$.name', amount='$.quantity')))
define stream SweetProductionStream (name string, amount double);</code></pre>
Similarly <a href="../../query-guide/#sink">Sinks</a> and <a href="../../query-guide/#store">Store Tables</a> can also be configured and referred from Siddhi Apps.</p>
<p><strong>Example</strong>: Configuring http source using <code>ref</code></p>
<p>Following configuration defines the <code>url</code> and details about <code>basic.auth</code>, in the Siddhi Configuration yaml.
<pre class="codehilite"><code class="language-yaml linenums">refs:
  -
    ref:
      name: 'http-passthrough'
      type: 'http'
      properties:
        receiver.url: 'http://0.0.0.0:8008/sweet-production'
        basic.auth.enabled: false</code></pre></p>
<p>This can be referred in the Siddhi Applications as follows.</p>
<pre class="codehilite"><code class="language-mysql linenums">@Source(ref='http-passthrough',
        @map(type='json', @attributes( name='$.name', amount='$.quantity')))
define stream SweetProductionStream (name string, amount double);</code></pre>

<h3 id="configuring-extensions-system-parameters">Configuring Extensions System Parameters<a class="headerlink" href="#configuring-extensions-system-parameters" title="Permanent link">&para;</a></h3>
<p>Siddhi extensions cater use-case specific logic that is not available by default in Siddhi. Some of these extensions have system parameter configurations to define/modify their behavior. These extensions usually have default values for the parameters, but when needed, they can be overridden by configuring the parameters in Siddhi Configuration yaml and passing it at startup.</p>
<p>The following is the syntax for the configuration.
<pre class="codehilite"><code class="language-yaml linenums">extensions:
  -
    extension:
      name: &lt;extension name&gt;
      namespace: &lt;extension namespace&gt;
      properties:
        &lt;key&gt;: &lt;value&gt;</code></pre>
For each separate extension you want to configure, add a sub-section named <code>extension</code> under the <code>extensions</code> subsection.</p>
<p>Following are some examples on overriding default system properties via Siddhi Configuration yaml</p>
<p><strong>Example 1</strong>: Defining service host and port for the TCP source
<pre class="codehilite"><code class="language-yaml linenums">extensions:
  - extension:
      name: tcp
      namespace: source
      properties:
        host: 0.0.0.0
        port: 5511</code></pre>
<strong>Example 2</strong>: Overwriting the default RDBMS extension configuration
<pre class="codehilite"><code class="language-yaml linenums">extensions:
  - extension:
      name: rdbms
      namespace: store
      properties:
        mysql.batchEnable: true
        mysql.batchSize: 1000
        mysql.indexCreateQuery: "CREATE INDEX {{TABLE_NAME}}_INDEX ON {{TABLE_NAME}} ({{INDEX_COLUMNS}})"
        mysql.recordDeleteQuery: "DELETE FROM {{TABLE_NAME}} {{CONDITION}}"
        mysql.recordExistsQuery: "SELECT 1 FROM {{TABLE_NAME}} {{CONDITION}} LIMIT 1"</code></pre></p>
<h3 id="configuring-siddhi-properties">Configuring Siddhi Properties<a class="headerlink" href="#configuring-siddhi-properties" title="Permanent link">&para;</a></h3>
<p>Siddhi supports setting following properties to be specify distribution based behaviours, for instance all <a href="../../query-guide/#named-aggregation">Named Aggregation</a> in the distribution can be changed to <a href="../../query-guide/#distributed-aggregation">Distributed Named Aggregation</a> with the following siddhi properties.</p>
<table>
<thead>
<tr>
<th>System Property</th>
<th>Description</th>
<th>Possible Values</th>
<th>Optional</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>shardId</td>
<td>The id of the shard one of the distributed aggregation is running in. This should be unique to a single shard</td>
<td>Any string</td>
<td>No</td>
<td><Empty_String></td>
</tr>
<tr>
<td>partitionById</td>
<td>This allows user to enable/disable distributed aggregation for all aggregations running in one siddhi manager .(Available from v4.3.3)</td>
<td>true/false</td>
<td>Yes</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>Following is the example of setting Distributed Named Aggregation
<pre class="codehilite"><code class="language-yaml linenums">properties:
  partitionById : true
  shardId : shard1</code></pre></p>
<h2 id="configuring-authentication">Configuring Authentication<a class="headerlink" href="#configuring-authentication" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>Siddhi is configured with user name <code>admin</code>, and password <code>admin</code>. This can be updated by adding related user management configuration as <code>authentication</code> to the Siddhi Configuration yaml, and pass it at startup.</p>
<p>A sample <code>authentication</code> is as follows.</p>
<pre class="codehilite"><code class="language-yaml linenums"># Authentication configuration
authentication:
  type: 'local'        # Type of the IdP client used
  userManager:
    adminRole: admin   # Admin role which is granted all permissions
    userStore:         # User store
      users:
       -
         user:
           username: admin
           password: YWRtaW4=
           roles: 1
      roles:
       -
         role:
           id: 1
           displayName: admin</code></pre>

<h2 id="adding-extensions-and-third-party-dependencies">Adding Extensions and Third Party Dependencies<a class="headerlink" href="#adding-extensions-and-third-party-dependencies" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable for all modes.</p>
</div>
<p>For certain use-cases, Siddhi might require extensions and/or third party dependencies to fulfill some characteristics that it does not provide by default.</p>
<p>This section provides details on how to add or update extension and/or third party dependencies that is needed by Siddhi.</p>
<h3 id="adding-to-siddhi-java-program">Adding to Siddhi Java Program<a class="headerlink" href="#adding-to-siddhi-java-program" title="Permanent link">&para;</a></h3>
<p>When running Siddhi as a Java library, the extension jars and/or third-party dependencies needed for Siddhi can be simply added to Siddhi class-path. When Maven is used as the build tool add them to the <code>pom.xml</code> file along with the other mandatory jars needed by Siddhi as given is <a href="../siddhi-as-a-java-library/">Using Siddhi as a library</a> guide.</p>
<p>A sample on adding <code>siddhi-io-http</code> extension to the Maven <code>pom.xml</code> is as follows.</p>
<pre class="codehilite"><code class="language-xml linenums">&lt;!--HTTP extension--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.wso2.extension.siddhi.io.http&lt;/groupId&gt;
  &lt;artifactId&gt;siddhi-io-http&lt;/artifactId&gt;
  &lt;version&gt;${siddhi.io.http.version}&lt;/version&gt;
&lt;/dependency&gt;   </code></pre>

<p>Refer <a href="../siddhi-as-a-java-library/">guide</a> for more details on using Siddhi as a Java Library.</p>
<h3 id="adding-to-siddhi-local-microservice">Adding to Siddhi Local Microservice<a class="headerlink" href="#adding-to-siddhi-local-microservice" title="Permanent link">&para;</a></h3>
<p>The most used Siddhi extensions are packed by default with the Siddhi Local Microservice distribution.</p>
<p>To add or update Siddhi extensions and/or third-party dependencies, you can use <code>&lt;SIDDHI_RUNNER_HOME&gt;/jars</code> and 
<code>&lt;SIDDHI_RUNNER_HOME&gt;/bundles</code> directories. </p>
<ol>
<li><code>&lt;SIDDHI_RUNNER_HOME&gt;/jars</code> directory : Maintained for Jar files which may not have their corresponding OSGi bundle implementation. 
These Jars will be converted as OSGI bundles and copied to Siddhi Runner distribution during server startup. </li>
<li><code>&lt;SIDDHI_RUNNER_HOME&gt;/bundles</code> directory : Maintained for OSGI bundles which you need to copy to Siddhi Runner distribution during server startup.</li>
</ol>
<p>Updates to these directories will be adapted after a server restart.</p>
<p>Refer <a href="../siddhi-as-a-local-microservice/">guide</a> for more details on using Siddhi as Local Microservice.</p>
<h3 id="adding-to-siddhi-docker-microservice">Adding to Siddhi Docker Microservice<a class="headerlink" href="#adding-to-siddhi-docker-microservice" title="Permanent link">&para;</a></h3>
<p>The most used Siddhi extensions are packed by default with the Siddhi Docker Microservice distribution.</p>
<p>To add or update Siddhi extensions and/or third-party dependencies, a new docker image has to be built from either <a href="https://hub.docker.com/r/siddhiio/siddhi-runner-base-ubuntu">siddhi-runner-base-ubuntu</a> or <a href="https://hub.docker.com/r/siddhiio/siddhi-runner-base-alpine">siddhi-runner-base-alpine</a> images. These images contain Linux OS, JDK and the Siddhi distribution.</p>
<p>Sample docker file using <code>siddhi-runner-base-alpine</code> is as follows.
<script src="https://gist.github.com/pcnfernando/09d3af8f958c464425a892efabac2d98.js"></script></p>
<p>Find the necessary artifacts to build the docker from <a href="https://github.com/siddhi-io/docker-siddhi/tree/master/docker-files/siddhi-runner">docker-siddhi</a> repository.</p>
<p><code>&lt;DOCKERFILE_HOME&amp;gt/siddhi-runner/files</code> contains two directories (bundles and jars directories) where you can copy the Jars and Bundles you need to bundle into the docker image.</p>
<ol>
<li>Jars directory - Maintained for Jar files which may not have their corresponding OSGi bundle implementation. These Jars will be converted as OSGI bundles and copied to Siddhi Runner docker image during docker build phase.</li>
<li>Bundles directory - Maintained for OSGI bundles which you need to copy to Siddhi Runner docker image directory during docker build phase.</li>
</ol>
<p>Refer <a href="../siddhi-as-a-docker-microservice/">guide</a> for more details on using Siddhi as Docker Microservice.</p>
<h3 id="adding-to-siddhi-kubernetes-microservice">Adding to Siddhi Kubernetes Microservice<a class="headerlink" href="#adding-to-siddhi-kubernetes-microservice" title="Permanent link">&para;</a></h3>
<p>To add or update Siddhi extensions and/or third-party dependencies, a custom docker image has to be created using the steps described in <a href="#adding-to-siddhi-docker-microservice">Adding to Siddhi Docker Microservice</a> documentation including the necessary extensions and dependencies. </p>
<p>The created image can be then referenced in the <code>sepc.pod</code> subsection in the <code>SiddhiProcess</code> Kubernetes artifact created to deploy Siddhi in Kubernetes.</p>
<p>For details on creating the Kubernetes artifacts refer <a href="../siddhi-as-a-kubernetes-microservice/">Using Siddhi as Kubernetes Microservice</a> documentation.</p>
<h2 id="configuring-statistics">Configuring Statistics<a class="headerlink" href="#configuring-statistics" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>Siddhi uses <a href="https://metrics.dropwizard.io/">dropwizard</a> metrics library to calculate Siddhi and JVM statistics, and it can report the results via JMX Mbeans, console or database.</p>
<p>To enable statistics, the relevant configuration under <code>metrics</code> section should be added to the Siddhi Configuration yaml as follows, and at the same time the statistics collection should be enabled in the Siddhi Application which is being monitored. Refer <a href="../../query-guide/#statistics">Siddhi Application Statistics</a> documentation for enabling Siddhi Application level statistics.</p>
<div class="admonition note">
<p class="admonition-title">Configuring Metrics reporting level.</p>
<p>To modify the statistics reporting, relevant metric names can be added under the <code>metrics.levels</code> subsection in the Siddhi Configurations yaml, along with the metrics level (i.e., OFF, INFO, DEBUG, TRACE, or ALL) as given below.
<pre class="codehilite"><code class="language-yaml linenums">metrics:
  # Metrics Levels are organized from most specific to least:
  # OFF (most specific, no metrics)
  # INFO
  # DEBUG
  # TRACE (least specific, a lot of data)
  # ALL (least specific, all data)
  levels:
    # The root level configured for Metrics
    rootLevel: INFO
    # Metric Levels
    levels:
      jvm.buffers: 'OFF'
      jvm.class-loading: INFO
      jvm.gc: DEBUG
      jvm.memory: INFO</code></pre></p>
</div>
<p>The available metrics reporting options are as follows.</p>
<h3 id="reporting-via-jmx-mbeans">Reporting via JMX Mbeans<a class="headerlink" href="#reporting-via-jmx-mbeans" title="Permanent link">&para;</a></h3>
<p>JMX Mbeans is the default statistics reporting option of Siddhi. To enable stats with the default configuration add the metric-related properties under <code>metrics</code> section in the Siddhi Configurations yaml file, and pass that during startup.</p>
<p>A sample configuration is as follows.
<pre class="codehilite"><code class="language-yaml linenums">metrics:
  enabled: true</code></pre>
This will report JMX Mbeans in the name of <code>org.wso2.carbon.metrics</code>. However, in this default configuration the JVM metrics will not be measured.</p>
<p>A detail JMX configuration along with the metrics reporting level is as follows.</p>
<pre class="codehilite"><code class="language-yaml linenums">metrics:
  # Enable Metrics
  enabled: true
  jmx:
    # Register MBean when initializing Metrics
    registerMBean: true
    # MBean Name
    name: org.wso2.carbon:type=Metrics
  # Metrics Levels are organized from most specific to least:
  # OFF (most specific, no metrics)
  # INFO
  # DEBUG
  # TRACE (least specific, a lot of data)
  # ALL (least specific, all data)
  levels:
    # The root level configured for Metrics
    rootLevel: INFO
    # Metric Levels
    levels:
      jvm.buffers: 'OFF'
      jvm.class-loading: INFO
      jvm.gc: DEBUG
      jvm.memory: INFO</code></pre>

<h3 id="reporting-via-console">Reporting via Console<a class="headerlink" href="#reporting-via-console" title="Permanent link">&para;</a></h3>
<p>To enable statistics by periodically printing the metrics on console add the following configuration to the the Siddhi Configurations yaml file, and pass that during startup.</p>
<pre class="codehilite"><code class="language-yaml linenums"># This is the main configuration for metrics
metrics:
  # Enable Metrics
  enabled: false
  reporting:
    console:
      - # The name for the Console Reporter
        name: Console
        # Enable Console Reporter
        enabled: false
        # Polling Period in seconds.
        # This is the period for polling metrics from the metric registry and printing in the console
        pollingPeriod: 5</code></pre>

<h3 id="reporting-via-database">Reporting via Database<a class="headerlink" href="#reporting-via-database" title="Permanent link">&para;</a></h3>
<p>To enable JDBC reporting and to periodically clean up the outdated statistics from the database, first a datasource should be created with the relevant database configurations and then the related metrics properties as given below should be added to in the Siddhi Configurations yaml file, and pass that during startup.</p>
<p>The below sample is referring to the datasource with JNDI name <code>jdbc/SiddhiMetricsDB</code>, hence the datasource configuration in yaml should have <code>jndiConfig.name</code> as <code>jdbc/SiddhiMetricsDB</code>. For detailed instructions on configuring a datasource, refer <a href="#configuring-databases">Configuring Databases</a>.</p>
<p>. The scripts to create these tables are provided in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/dbscripts</code> directory.</p>
<p>Sample configuration of reporting via database.</p>
<pre class="codehilite"><code class="language-yaml linenums">metrics:
  enabled: true
  jdbc:
  # Data Source Configurations for JDBC Reporters
    dataSource:
      - &amp;JDBC01
        dataSourceName: java:comp/env/jdbc/SiddhiMetricsDB
        scheduledCleanup:
          enabled: false
          daysToKeep: 7
          scheduledCleanupPeriod: 86400
  reporting:
    jdbc:
      - # The name for the JDBC Reporter
        name: JDBC
        enabled: true
        dataSource: *JDBC01
        pollingPeriod: 60      </code></pre>

<div class="admonition note">
<p class="admonition-title">Metrics history and reporting interval</p>
<p>If the <code>metrics.reporting.jdbc</code> subsection is not enabled, the information relating to metrics history will not be persisted for future references. Also note the that the reporting will only start to update the database after the given <code>pollingPeriod</code> time has elapsed.  </p>
</div>
<p>Information about the parameters configured under the <code>jdbc.dataSource</code> subsection in the Siddhi Configuration yaml is as follows.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataSourceName</td>
<td><code>java:comp/env/jdbc/SiddhiMetricsDB</code></td>
<td><code>java:comp/env/&lt;datasource JNDI name&gt;</code>. The JNDI name of the datasource used to store metric data.</td>
</tr>
<tr>
<td>scheduledCleanup.enabled</td>
<td>false</td>
<td>If this is set to true, metrics data stored in the database is cleared periodically based on scheduled time interval.</td>
</tr>
<tr>
<td>scheduledCleanup.daysToKeep</td>
<td>3</td>
<td>If scheduled clean-up of metric data is enabled, all metric data in the database that are older than the number of days specified in this parameter are deleted.</td>
</tr>
<tr>
<td>scheduledCleanup.scheduledCleanupPeriod</td>
<td>86400</td>
<td>The parameter specifies the time interval in seconds at which metric data should be cleaned.</td>
</tr>
</tbody>
</table>
<h2 id="converting-jars-to-osgi-bundles">Converting Jars to OSGi Bundles<a class="headerlink" href="#converting-jars-to-osgi-bundles" title="Permanent link">&para;</a></h2>
<p>To convert jar files to OSGi bundles, first download and save the non-OSGi jar it in a preferred directory in your machine. Then from the CLI, navigate to the <code>&lt;SIDDHI_RUNNER_HOME&gt;/bin</code> directory, and issue the following command.</p>
<pre class="codehilite"><code class="linenums">./jartobundle.sh &lt;path to non OSGi jar&gt; ../lib</code></pre>

<p>This converts the Jar to OSGi bundles and place it in <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory.</p>
<h2 id="encrypt-sensitive-deployment-configurations">Encrypt sensitive deployment configurations<a class="headerlink" href="#encrypt-sensitive-deployment-configurations" title="Permanent link">&para;</a></h2>
<p>Cipher tool is used to encrypt sensitive data in deployment configurations. This tool works in conjunction with Secure Vault to replace sensitive data that is in plain text with an alias. The actual value is then encrypted and securely stored in the SecureVault. At runtime, the actual value is retrieved from the alias and used. For more information, see <a href="https://github.com/wso2/carbon-secvault/blob/master/README.md">Secure Vault</a>.</p>
<p>Below is the default configurations for Secure Vault
<pre class="codehilite"><code class="language-yaml linenums"># Secure Vault Configuration
securevault:
  secretRepository:
    type: org.wso2.carbon.secvault.repository.DefaultSecretRepository
    parameters:
      privateKeyAlias: wso2carbon
      keystoreLocation: ${SIDDHI_RUNNER_HOME}/resources/security/securevault.jks
      secretPropertiesFile: ${SIDDHI_RUNNER_HOME}/conf/runner/secrets.properties
  masterKeyReader:
    type: org.wso2.carbon.secvault.reader.DefaultMasterKeyReader
    parameters:
      masterKeyReaderFile: ${SIDDHI_RUNNER_HOME}/conf/runner/master-keys.yaml
</code></pre>
Information about the parameters configured under the <code>securevault</code> subsection in the Siddhi Configuration yaml is as follows.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>secretRepository &gt; type</td>
<td>org.wso2.carbon.secvault.repository.DefaultSecretRepository</td>
<td>The default implementation of Secret Repository is based on the passwords and aliases given in the secrets.properties file and the JKS that is configured in the secure-vault.yaml file</td>
</tr>
<tr>
<td>secretPropertiesFile</td>
<td><code>${SIDDHI_RUNNER_HOME}/conf/runner/secrets.properties</code></td>
<td>Location of the <code>secrect.properties</code> file which matches alias with encrypted data</td>
</tr>
<tr>
<td>secretPropertiesFile</td>
<td><code>${SIDDHI_RUNNER_HOME}/resources/security/securevault.jks</code></td>
<td>Keystore which contains the certificate to encrypt sensitive data</td>
</tr>
<tr>
<td>privateKeyAlias</td>
<td>wso2carbon</td>
<td>Alias of the certificate in the key store used for encryption</td>
</tr>
<tr>
<td>masterKeyReader &gt; type</td>
<td>org.wso2.carbon.secvault.reader.DefaultMasterKeyReader</td>
<td>The default implementation of MasterKeyReader gets a list of required passwords from the Secret Repository and provides the values for those passwords by reading system properties, environment variables and the master-keys.yaml file.</td>
</tr>
<tr>
<td>masterKeyReaderFile</td>
<td><code>${SIDDHI_RUNNER_HOME\}/conf/runner/master-keys.yaml</code></td>
<td>Location of <code>master-keys.yaml</code> file which contains password used to access the key store to decrypt the encrypted passwords at runtime</td>
</tr>
</tbody>
</table>
<h2 id="configuring-server-properties">Configuring server properties<a class="headerlink" href="#configuring-server-properties" title="Permanent link">&para;</a></h2>
<p>Siddhi runner and tooling distribution is based on WSO2 Carbon 5 Kernel platform. The properties for the server can be configure under <code>wso2.carbon</code> namespace.</p>
<p>Sample configurations is as follows,
<pre class="codehilite"><code class="language-yaml linenums">wso2.carbon:
  id: siddhi-runner
  name: Siddhi Runner Distribution</code></pre></p>
<h3 id="configure-port-offset">Configure port offset<a class="headerlink" href="#configure-port-offset" title="Permanent link">&para;</a></h3>
<p>Port offset defines the number by which all ports defined in the runtime such as the HTTP/S ports will be offset. For example, if the default HTTP port is 9090 and the <code>ports &gt;&gt; offset</code> is 1, the effective HTTP port will be 9091. This configuration allows to change ports in a uniform manner across the transports.</p>
<p>Below is the sample configurations for offsets,</p>
<pre class="codehilite"><code class="language-yaml linenums">wso2.carbon:
  id: siddhi-runner
  name: Siddhi Runner Distribution
  ports:
    offset: 1</code></pre>

<h2 id="configuring-databridge-transport">Configuring Databridge Transport<a class="headerlink" href="#configuring-databridge-transport" title="Permanent link">&para;</a></h2>
<p>Siddhi uses Databridge transport to send and receive events over Thrift/Binary protocols, This can be used through <code>siddhi-io-wso2event</code> extension.</p>
<p>Sample Configuration is as follows,
<pre class="codehilite"><code class="language-yaml linenums">transports:      
  databridge:
  # Configuration used for the databridge communication
    listenerConfigurations:
      workerThreads: 10
      .
      .
      .
    senderConfigurations:
    # Configuration of the Data Agents - to publish events through databridge
      agents:
          agentConfiguration:
            name: Thrift
            dataEndpointClass: org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint
            .
            .
            .</code></pre>
Here, <code>transports &gt;&gt; databridge</code> includes listenerConfigurations, to configure databridge receiver in WSO2Event Source, and senderConfigurations, to configure agents used to publish events over databridge in WSO2Event Sink</p>
<h3 id="configuring-databridge-listener">Configuring databridge listener<a class="headerlink" href="#configuring-databridge-listener" title="Permanent link">&para;</a></h3>
<p>Sample configuration for databridge listener and properties are as follows,</p>
<pre class="codehilite"><code class="language-yaml linenums">transports:
  databridge:
    listenerConfigurations:
      workerThreads: 10
      maxEventBufferCapacity: 10
      eventBufferSize: 2000
      keyStoreLocation: ${sys:carbon.home}/resources/security/wso2carbon.jks
      keyStorePassword: wso2carbon
      clientTimeoutMin: 30
      # Data receiver configurations
      dataReceivers:
        -
          dataReceiver:
            type: Thrift
            properties:
              tcpPort: '7611'
              sslPort: '7711'
        - 
          dataReceiver:
            type: Binary
            properties:
              tcpPort: '9611'
              sslPort: '9711'
              tcpReceiverThreadPoolSize: '100'
              sslReceiverThreadPoolSize: '100'
              hostName: 0.0.0.0</code></pre>

<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>workerThreads</td>
<td align="center">10</td>
<td>No of worker threads to consume events</td>
</tr>
<tr>
<td>maxEventBufferCapacity</td>
<td align="center">10</td>
<td>Maximum amount of messages that can be queued internally in Message Buffer</td>
</tr>
<tr>
<td>eventBufferSize</td>
<td align="center">2000</td>
<td>Maximum number of events that can be stored in the queue</td>
</tr>
<tr>
<td>clientTimeoutMin</td>
<td align="center">30</td>
<td>Session timeout value in minutes</td>
</tr>
<tr>
<td>keyStoreLocation</td>
<td align="center"><code>${SIDDHIRUNNER_HOME}/resources/security/wso2carbon.jks</code></td>
<td>Keystore file path</td>
</tr>
<tr>
<td>Keystore password</td>
<td align="center">wo2carbon</td>
<td>Keystore password</td>
</tr>
<tr>
<td>dataReceivers</td>
<td align="center"></td>
<td>Generalised configuration for different types of data receivers</td>
</tr>
<tr>
<td>dataReceivers &gt;&gt; dataReceiver &gt;&gt; type</td>
<td align="center"></td>
<td>Type of the data receiver</td>
</tr>
</tbody>
</table>
<p>Parameters for Thrift data receiver,</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tcpPort</td>
<td align="center">7611</td>
<td>TCP port for the Thrift data receiver</td>
</tr>
<tr>
<td>sslPort</td>
<td align="center">7711</td>
<td>SSL port for the Thrift data receiver</td>
</tr>
</tbody>
</table>
<p>Parameters for Binary data receiver,</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tcpPort</td>
<td align="center">7611</td>
<td>TCP port for the Binary data receiver</td>
</tr>
<tr>
<td>sslPort</td>
<td align="center">7711</td>
<td>SSL port for the Binary data receiver</td>
</tr>
<tr>
<td>tcpReceiverThreadPoolSize</td>
<td align="center">100</td>
<td>Receiver pool size for Thrift TCP protocol</td>
</tr>
<tr>
<td>sslReceiverThreadPoolSize</td>
<td align="center">100</td>
<td>Receiver pool size for Thrift SSL protocol</td>
</tr>
<tr>
<td>hostname</td>
<td align="center">0.0.0.0</td>
<td>Hostname for the Thrift receiver</td>
</tr>
</tbody>
</table>
<h3 id="configuring-databridge-publisher">Configuring databridge publisher<a class="headerlink" href="#configuring-databridge-publisher" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>By default both Thrift and Binary agents will be started.</p>
<p>Sample configuration for databridge agent(publisher) and properties are as follows,
<pre class="codehilite"><code class="language-yaml linenums">transports:
  databridge:
    senderConfigurations:
      agents:
        -
          agentConfiguration:
            name: Thrift
            dataEndpointClass: org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint
            publishingStrategy: async
            trustStorePath: '${sys:carbon.home}/resources/security/client-truststore.jks'
            trustStorePassword: 'wso2carbon'
            queueSize: 32768
            batchSize: 200
            corePoolSize: 1
            socketTimeoutMS: 30000
            maxPoolSize: 1
            keepAliveTimeInPool: 20
            reconnectionInterval: 30
            maxTransportPoolSize: 250
            maxIdleConnections: 250
            evictionTimePeriod: 5500
            minIdleTimeInPool: 5000
            secureMaxTransportPoolSize: 250
            secureMaxIdleConnections: 250
            secureEvictionTimePeriod: 5500
            secureMinIdleTimeInPool: 5000
            sslEnabledProtocols: TLSv1.1,TLSv1.2
            ciphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256
        -
          agentConfiguration:
            name: Binary
            dataEndpointClass: org.wso2.carbon.databridge.agent.endpoint.binary.BinaryDataEndpoint
            publishingStrategy: async
            trustStorePath: '${sys:carbon.home}/resources/security/client-truststore.jks'
            trustStorePassword: 'wso2carbon'
            queueSize: 32768
            batchSize: 200
            corePoolSize: 1
            socketTimeoutMS: 30000
            maxPoolSize: 1
            keepAliveTimeInPool: 20
            reconnectionInterval: 30
            maxTransportPoolSize: 250
            maxIdleConnections: 250
            evictionTimePeriod: 5500
            minIdleTimeInPool: 5000
            secureMaxTransportPoolSize: 250
            secureMaxIdleConnections: 250
            secureEvictionTimePeriod: 5500
            secureMinIdleTimeInPool: 5000
            sslEnabledProtocols: TLSv1.1,TLSv1.2
            ciphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</code></pre></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td align="center">Thrift / Binary</td>
<td>Name of the databridge agent</td>
</tr>
<tr>
<td>dataEndpointClass</td>
<td align="center">org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint / org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint</td>
<td>Class of the databridge agent initialised</td>
</tr>
<tr>
<td>publishingStrategy</td>
<td align="center">async</td>
<td>Strategy used for publishing. Can be either <code>sync</code> or <code>async</code></td>
</tr>
<tr>
<td>trustStorePath</td>
<td align="center"><code>${sys:carbon.home\}/resources/security/client-truststore.jks</code></td>
<td>Truststore file path</td>
</tr>
<tr>
<td>trustStorePassword</td>
<td align="center">wso2carbon</td>
<td>Trust store password</td>
</tr>
<tr>
<td>queueSize</td>
<td align="center">32768</td>
<td>Queue size used to hold events before publishing</td>
</tr>
<tr>
<td>batchSize</td>
<td align="center">200</td>
<td>Size of a publishing batch of events</td>
</tr>
<tr>
<td>corePoolSize</td>
<td align="center">1</td>
<td>Pool size of the threads used to buffer before publishing</td>
</tr>
<tr>
<td>maxPoolSize</td>
<td align="center">1</td>
<td>Maximum pool size for threads used to buffer before publishing</td>
</tr>
<tr>
<td>socketTimeoutMS</td>
<td align="center">30000</td>
<td>Time for socket to timeout in Milliseconds</td>
</tr>
<tr>
<td>keepAliveTimeInPool</td>
<td align="center">20</td>
<td>Time used to keep the threads live</td>
</tr>
<tr>
<td>reconnectionInterval</td>
<td align="center">30</td>
<td>Reconnection interval in case of lost transmission</td>
</tr>
<tr>
<td>maxTransportPoolSize</td>
<td align="center">250</td>
<td>Transport threads used for publishing</td>
</tr>
<tr>
<td>maxIdleConnections</td>
<td align="center">250</td>
<td>Maximum idle connections maintained in the databridge</td>
</tr>
<tr>
<td>evictionTimePeriod</td>
<td align="center">5500</td>
<td>Eviction time interval</td>
</tr>
<tr>
<td>minIdleTimeInPool</td>
<td align="center">5500</td>
<td>Min idle time in pool</td>
</tr>
<tr>
<td>secureMaxTransportPoolSize</td>
<td align="center">250</td>
<td>Max transport pool size in SSL publishing</td>
</tr>
<tr>
<td>secureMaxIdleConnections</td>
<td align="center">250</td>
<td>Max idle connections in SSL publishing</td>
</tr>
<tr>
<td>secureEvictionTimePeriod</td>
<td align="center">5500</td>
<td>Eviction time period in SSL publishing</td>
</tr>
<tr>
<td>secureMinIdleTimeInPool</td>
<td align="center">5500</td>
<td>Min idle time in pool in SSL publishing</td>
</tr>
<tr>
<td>sslEnabledProtocols</td>
<td align="center">TLSv1.1,TLSv1.2</td>
<td>SSL enabled protocols</td>
</tr>
<tr>
<td>ciphers</td>
<td align="center">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,<br>TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,<br>TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,<br>TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,<br>TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,<br>TLS_DHE_RSA_WITH_AES_128_CBC_SHA,<br>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,<br>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,<br>TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</td>
<td>Ciphers used in transmission</td>
</tr>
</tbody>
</table>
<h2 id="configuring-admin-rest-apis">Configuring Admin REST APIs<a class="headerlink" href="#configuring-admin-rest-apis" title="Permanent link">&para;</a></h2>
<p>Admin API can be configured under the namespace <code>transports &gt;&gt; http</code>. </p>
<p>Sample Config and the parameters are as follows,
<pre class="codehilite"><code class="language-yaml linenums">transports:
  http:
    listenerConfigurations:
      - 
        id: "default"
        host: "0.0.0.0"
        port: 9090
      - 
        id: "msf4j-https"
        host: "0.0.0.0"
        port: 9443
        scheme: https
        sslConfig:
          keyStore: "${carbon.home}/resources/security/wso2carbon.jks"
          keyStorePassword: wso2carbon
    transportProperties:
      - name: "server.bootstrap.socket.timeout"
        value: 60
      - name: "latency.metrics.enabled"
        value: false</code></pre></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td align="center">default</td>
<td>Id of the server</td>
</tr>
<tr>
<td>host</td>
<td align="center">0.0.0.0</td>
<td>Hostname of the server</td>
</tr>
<tr>
<td>port</td>
<td align="center">8080</td>
<td>Port of the APIs</td>
</tr>
<tr>
<td>scheme</td>
<td align="center">http</td>
<td>Scheme of the APIs. It can be either <code>http</code> or <code>https</code></td>
</tr>
<tr>
<td>httpTraceLogEnabled</td>
<td align="center">false</td>
<td>Enable HTTP trace logs</td>
</tr>
<tr>
<td>httpAccessLogEnabled</td>
<td align="center">false</td>
<td>Enable HTTP access logs</td>
</tr>
<tr>
<td>socketIdleTimeout</td>
<td align="center">0</td>
<td>Timeout for socket for which requests received. Not set by default.</td>
</tr>
</tbody>
</table>
<p>SSL configurations (listenerConfigurations &gt;&gt; sslConfig)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>keyStore</td>
<td align="center"><code>${carbon.home}/resources/security/wso2carbon.jks</code></td>
<td>The file containing the private key of the client</td>
</tr>
<tr>
<td>keyStorePass</td>
<td align="center">wso2carbon</td>
<td>Password of the private key if it is encrypted</td>
</tr>
<tr>
<td>enableProtocols</td>
<td align="center">All</td>
<td>SSL/TLS protocols to be enabled (e.g.: TLSv1,TLSv1.1,TLSv1.2)</td>
</tr>
<tr>
<td>cipherSuites</td>
<td align="center">All</td>
<td>List of ciphers to be used eg: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</td>
</tr>
<tr>
<td>enableSessionCreation</td>
<td align="center"></td>
<td>Enable/disable new SSL session creation</td>
</tr>
<tr>
<td>sessionTimeOut</td>
<td align="center">0</td>
<td>SSL session time out. Not set by default.</td>
</tr>
<tr>
<td>handshakeTimeOut</td>
<td align="center">0</td>
<td>SSL handshake time out. Not set by default.</td>
</tr>
</tbody>
</table>
<p>Transport Properties (transportProperties)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>server.bootstrap.connect.timeout</td>
<td align="center">15000</td>
<td>Timout in millisecond to establish connection</td>
</tr>
<tr>
<td>server.bootstrap.socket.timeout</td>
<td align="center">60</td>
<td>Socket connection timeouts</td>
</tr>
<tr>
<td>latency.metrics.enabled</td>
<td align="center">false</td>
<td>Enable/Disable latency metrics by carbon metrics component</td>
</tr>
</tbody>
</table>
                
                  
                
              
  <a href="#" class="cd-top text--replace js-cd-top">Top</a>

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../siddhi-as-a-kubernetes-microservice/" title="Siddhi Kubernetes Microservice" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Siddhi Kubernetes Microservice
              </span>
            </div>
          </a>
        
        
          <a href="../../development/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Siddhi - Documentation
          </div>
        
        &copy;2019 <a href="https://wso2.com/">WSO2</a>
      </div>
      
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="/community/#community-collaboration" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://github.com/siddhi-io/siddhi" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://medium.com/siddhi-io" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://twitter.com/siddhi_io" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/groups/13553064" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../assets/js/theme.js"></script>
      
        <script src="../../assets/lib/backtotop/js/util.js"></script>
      
        <script src="../../assets/lib/backtotop/js/main.js"></script>
      
    
  </body>
</html>